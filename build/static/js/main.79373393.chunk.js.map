{"version":3,"sources":["config/Api.ts","config/Authorities.ts","Services/AuthorityService.ts","Services/UserService.ts","Contexts/ActiveUserContext.tsx","components/pages/LoginPage/LoginPage.tsx","Router/PrivateRoute.tsx","images/team-placeholder.png","Services/GroupsService.ts","components/atoms/GroupUserList.tsx","components/pages/HomePage.tsx","components/pages/UserPage/UserTable.tsx","components/molecules/UserForm/UserForm.tsx","components/pages/UserPage/UserPage.tsx","components/molecules/GroupForm.tsx","components/pages/GroupPage.tsx","Router/Router.tsx","App.tsx","index.tsx"],"names":["api","axios","create","baseURL","process","interceptors","request","use","token","localStorage","getItem","headers","Authorization","error","Promise","reject","response","authorities","authoritySet","Set","AuthorityService","initAuthoritySet","user","JSON","parse","roles","forEach","role","authority","add","name","hasAuthority","has","hasAuthorities","element","hasAnyAuthority","clearAuthorities","clear","UserService","getUser","userID","get","data","getUserFromGroup","groupId","updateUser","put","id","addUser","post","then","res","getAllUsers","deleteUser","delete","USER_DATA_LOCAL_STORAGE_KEY","TOKEN_LOCAL_STORAGE_KEY","noContextProviderFound","Error","defaultContextValue","login","logout","setActiveUser","loadActiveUser","checkRole","ActiveUserContext","createContext","ActiveUserContextProvider","children","useState","storeUser","loadSavedUserData","setUser","navigate","useNavigate","updatedUser","setItem","stringify","resetAuthorization","email","password","console","log","authorization","useEffect","Provider","value","finally","roleToCheck","some","validationSchema","Yup","shape","Login","btnstyle","margin","useContext","Grid","Paper","elevation","style","padding","height","width","initialValues","enableReinitialize","onSubmit","values","toLowerCase","catch","status","alert","validateOnChange","isInitialValid","props","handleSubmit","TextField","label","placeholder","fullWidth","required","autoFocus","onChange","handleChange","onBlur","handleBlur","errors","type","Button","color","variant","Typography","Link","href","PrivateRoute","requiredAuths","RouteComponent","activeUserContext","tokenString","replace","jwt","exp","Date","now","isLoggedIn","length","onClick","to","GroupsService","getGroup","userId","getAllGroups","createGroup","group","updateGroup","deleteGroup","GroupUserList","users","setUsers","map","HomePage","groupsList","setGroupsList","groupOfUser","setGroupOfUser","group_id","USER_MODIFY","Box","display","alignItems","justifyContent","flexDirection","className","size","src","logo","alt","description","Accordion","AccordionSummary","expandIcon","memberCount","AccordionDetails","UserTable","TableContainer","component","Table","sx","minWidth","TableHead","TableRow","TableCell","TableBody","firstName","lastName","ButtonGroup","UserForm","submitActionHandler","formik","useFormik","object","string","min","max","paddingTop","paddingRight","Boolean","touched","marginTop","marginRight","disabled","dirty","isValid","UserPage","useParams","undefined","GroupForm","logoUrl","Autocomplete","multiple","options","getOptionLabel","option","event","setFieldValue","handleAutocompleteChange","renderInput","params","GroupPage","setGroup","Router","path","LoginPage","DEFAULT","App","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.79373393.chunk.js","sourcesContent":["import axios, { AxiosInstance } from \"axios\";\r\n\r\n/**\r\n * isDev returns a boolean if the application is running in development-mode.\r\n */\r\nconst isDev = (): boolean => !process.env.NODE_ENV || process.env.NODE_ENV === \"development\";\r\n\r\n/**\r\n * Create an Axios instance for the api.\r\n */\r\nconst createAPI = (): AxiosInstance => {\r\n  return axios.create({ baseURL: process.env.REACT_APP_BASEURL });\r\n};\r\n\r\n/**\r\n * api constant is the axios-instance used for all requests to the rest-api.\r\n */\r\nconst api: AxiosInstance = createAPI();\r\n\r\n/**\r\n * Set the Authorization header on each request equal to the token which\r\n * is stored inside the localStorage if a user is authenticated.\r\n */\r\napi.interceptors.request.use(\r\n  (request) => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token) {\r\n      request.headers.Authorization = token;\r\n    }\r\n    return request;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n/**\r\n * Log outgoing requests if the environment is in development-mode\r\n */\r\napi.interceptors.request.use((request) => {\r\n  if (isDev() && request.method) {\r\n    const info = `REQUEST ${request.method.toLocaleUpperCase()} ${request.url}`;\r\n    if (request.method.toLocaleLowerCase() === \"get\") {\r\n      console.debug(info);\r\n    } else {\r\n      console.debug(info, request.data);\r\n    }\r\n  }\r\n  return request;\r\n}, Promise.reject);\r\n\r\n/**\r\n * Log incoming responses if the environment is in development-mode\r\n */\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    if (isDev() && response.config && response.config.method) {\r\n      console.debug(\r\n        `RESPONSE ${response.config.method.toLocaleUpperCase()} ${response.config.url}`,\r\n        response.data\r\n      );\r\n    }\r\n    return response;\r\n  },\r\n  (error) => Promise.reject(error)\r\n);\r\n\r\nexport default api;\r\n","enum authorities {\r\n/*\r\n  add your authorities here. E.g:\r\n*/\r\n  DEFAULT = \"DEFAULT\",\r\n  USER_MODIFY = \"USER_MODIFY\",\r\n  USER_DELETE = \"USER_DELETE\",\r\n  USER_READ_GROUPS = \"USER_READ_GROUPS\",\r\n  READ_OWN_GROUP = \"READ_OWN_GROUP\",\r\n  GROUP_CREATE = \"GROUP_CREATE\",\r\n  GROUP_MODIFY = \"GROUP_MODIFY\",\r\n  GROUP_DELETE = \"GROUP_DELETE\",\r\n}\r\n\r\nexport default authorities;\r\n","import authorities from '../config/Authorities';\r\nimport { Authority } from '../types/models/Authority.model';\r\nimport { Role } from '../types/models/Role.model';\r\n\r\nconst authoritySet = new Set<authorities>();\r\n\r\nconst AuthorityService = {\r\n  initAuthoritySet: (\r\n    user = JSON.parse(localStorage.getItem('user') || '{}')\r\n  ) => {\r\n    const roles = user && user.roles ? user.roles : [];\r\n    roles.forEach((role: Role) => {\r\n      role.authorities.forEach((authority: Authority) => {\r\n        authoritySet.add(authority.name);\r\n      });\r\n    });\r\n  },\r\n  hasAuthority: (authority: authorities) => {\r\n    AuthorityService.initAuthoritySet();\r\n\r\n    return authoritySet.has(authority);\r\n  },\r\n  hasAuthorities: (authorities: authorities[]) => {\r\n    AuthorityService.initAuthoritySet();\r\n\r\n    for (const element of authorities) {\r\n      if (!authoritySet.has(element)) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  },\r\n  hasAnyAuthority: (authorities: authorities[]) => {\r\n    for (const element of authorities) {\r\n      if (authoritySet.has(element)) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  },\r\n  clearAuthorities: (): void => {\r\n    authoritySet.clear();\r\n  },\r\n};\r\n\r\nexport default AuthorityService;\r\n","import api from '../config/Api';\r\nimport { User } from '../types/models/User.model';\r\n\r\nconst UserService = {\r\n  getUser: async (userID: string): Promise<User> => {\r\n    const { data } = await api.get<User>(`/user/${userID}`);\r\n    return data;\r\n  },\r\n\r\n  getUserFromGroup: async (groupId: string | undefined) => {\r\n    return api.get(`/user/group/${groupId}`)\r\n  },\r\n\r\n  updateUser: (user: User) => {\r\n    return api.put(`/user/${user.id}`, user);\r\n  },\r\n\r\n  addUser: (user: User) => {\r\n    return api.post('/user/registerUser', user).then((res: any) => {\r\n      return res.data;\r\n    });\r\n  },\r\n\r\n  getAllUsers: () => {\r\n    return api.get(`/user`);\r\n  },\r\n\r\n  deleteUser: (id: string) => {\r\n    return api.delete(`/user/${id}`);\r\n  },\r\n};\r\n\r\nexport default UserService;\r\n","import { createContext, useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport api from \"../config/Api\";\r\nimport roles from \"../config/Roles\";\r\nimport AuthorityService from \"../Services/AuthorityService\";\r\nimport UserService from \"../Services/UserService\";\r\nimport { User } from \"../types/models/User.model\";\r\nimport { Nullable } from \"../types/Nullable\";\r\n\r\n/**\r\n * USER_DATA_LOCAL_STORAGE_KEY defines the localStorageKey in which the\r\n * activeUser gets stored.\r\n */\r\nexport const USER_DATA_LOCAL_STORAGE_KEY = \"user\";\r\nexport const TOKEN_LOCAL_STORAGE_KEY = \"token\";\r\n\r\n/**\r\n * ActiveUserContextType defines the provided values\r\n */\r\nexport type ActiveUserContextType = {\r\n  user: Nullable<User>;\r\n  login: (email: string, password: string) => Promise<boolean>;\r\n  logout: () => void;\r\n  setActiveUser: (user: User) => void;\r\n  loadActiveUser: () => void;\r\n  checkRole: (roleToCheck: keyof typeof roles) => boolean;\r\n};\r\n\r\n/**\r\n * noContextProviderFound is a method that throws an error and is used\r\n * inside the defaultContextValue\r\n */\r\nconst noContextProviderFound = () => {\r\n  throw new Error(\"No provider for the ActiveUserContext found\");\r\n};\r\n\r\n/**\r\n * defaultContextValue defines the default values for the ActiveUserContext.\r\n */\r\nconst defaultContextValue: ActiveUserContextType = {\r\n  user: null,\r\n  login: noContextProviderFound,\r\n  logout: noContextProviderFound,\r\n  setActiveUser: noContextProviderFound,\r\n  loadActiveUser: noContextProviderFound,\r\n  checkRole: noContextProviderFound,\r\n};\r\n\r\n/**\r\n * ActiveUserContext has the purpose of providing the currently active user\r\n * as well as related values, modifiers and related operations such as login\r\n * and logout.\r\n */\r\nconst ActiveUserContext =\r\n  createContext<ActiveUserContextType>(defaultContextValue);\r\nexport default ActiveUserContext;\r\n\r\n/**\r\n * Props for the ActiveUserContextProvider Component\r\n */\r\ntype ActiveUserContextProviderProps = {\r\n  children: React.ReactNode;\r\n};\r\n\r\n/**\r\n * ActiveUserContextProvider Component is used to provide the ActiveUserContext\r\n * to all child-components.\r\n * @param children consists of all the elements that are located inside the\r\n */\r\nexport const ActiveUserContextProvider = ({\r\n  children,\r\n}: ActiveUserContextProviderProps) => {\r\n  /**\r\n   * Try to load the user data that is stored inside the LocalStorage.\r\n   * If non is present, null will be returned.\r\n   */\r\n  const loadSavedUserData = (): Nullable<User> => {\r\n    const storeUser = localStorage.getItem(USER_DATA_LOCAL_STORAGE_KEY);\r\n    if (storeUser === null) return null;\r\n    return JSON.parse(storeUser);\r\n  };\r\n\r\n  // The following line defines the user state which is holding the user\r\n  // data inside this context.\r\n  const [user, setUser] = useState<Nullable<User>>(() => loadSavedUserData());\r\n  const navigate = useNavigate();\r\n  /**\r\n   * Update the user that is provided by the ActiveUserContext\r\n   * @param updatedUser\r\n   */\r\n  const setActiveUser = (updatedUser: User) => {\r\n    setUser(updatedUser);\r\n    localStorage.setItem(\r\n      USER_DATA_LOCAL_STORAGE_KEY,\r\n      JSON.stringify(updatedUser)\r\n    );\r\n  };\r\n\r\n  /**\r\n   * Remove all user and authorization related data from the localStorage\r\n   */\r\n  const resetAuthorization = () => {\r\n    // Reset the stored data inside the AuthorityService.\r\n    AuthorityService.clearAuthorities();\r\n    // Clear all data from the localStorage.\r\n    localStorage.clear();\r\n    // Set the user, which is stored inside the context to null.\r\n    setUser(null);\r\n  };\r\n\r\n  /**\r\n   * Logout the currently active user by resetting the stored user data\r\n   * and redirecting to the LoginPage.\r\n   */\r\n  const logout = () => {\r\n    // If no token is saved inside the local storage clear the localStorage directly\r\n    if (localStorage.getItem(TOKEN_LOCAL_STORAGE_KEY) === null) {\r\n      resetAuthorization();\r\n      return;\r\n    }\r\n    // If a token is present send a logout-request and clear the localStorage afterwards\r\n    api.get(\"/logout\").finally(resetAuthorization);\r\n    //navigate to login page\r\n    navigate(\"/login\");\r\n  };\r\n\r\n  /**\r\n   * Login with the provided credentials. If successful the current user gets\r\n   * updated and stored inside the context. Also the JWT-Token for further\r\n   * request based authentication is stored inside the localStorage.\r\n   * @param email\r\n   * @param password\r\n   */\r\n  const login = async (email: string, password: string) => {\r\n    await api.post(\"user/login\", { email, password }).then((response: any) => {\r\n      console.log(response.headers.authorization);\r\n      localStorage.setItem(\r\n        TOKEN_LOCAL_STORAGE_KEY,\r\n        response.headers.authorization\r\n      );\r\n      setActiveUser(response.data);\r\n      return true;\r\n    });\r\n    return false;\r\n  };\r\n\r\n  /**\r\n   * Request the user data for the currently active user from the api\r\n   * and save it to the context-state.\r\n   */\r\n  const loadActiveUser = () => {\r\n    return user\r\n      ? UserService.getUser(user.id).then((res: any) => {\r\n          setActiveUser(res);\r\n        })\r\n      : null;\r\n  };\r\n\r\n  function activeUserHasRole(roleToCheck: keyof typeof roles): boolean {\r\n    return user ? user.roles.some((role) => role.name === roleToCheck) : false;\r\n  }\r\n\r\n  /**\r\n   * Try to load the user-object from the localStorage if present.\r\n   * This is done automatically on the first render of this component.\r\n   */\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(TOKEN_LOCAL_STORAGE_KEY);\r\n    if (token !== null) {\r\n      loadActiveUser();\r\n    }\r\n  }, []);\r\n\r\n  /**\r\n   * If the user state is updated and the user is not equal to null,\r\n   * the data used in the AuthorityService as well as the data stored inside\r\n   * the localStorage will be updated with the new user-data.\r\n   */\r\n  useEffect(() => {\r\n    if (user !== null) {\r\n      AuthorityService.initAuthoritySet(user);\r\n      localStorage.setItem(USER_DATA_LOCAL_STORAGE_KEY, JSON.stringify(user));\r\n    }\r\n  }, [user]);\r\n\r\n  return (\r\n    <div>\r\n      <ActiveUserContext.Provider\r\n        value={{\r\n          user,\r\n          setActiveUser,\r\n          login,\r\n          logout,\r\n          loadActiveUser,\r\n          checkRole: activeUserHasRole,\r\n        }}\r\n      >\r\n        {children}\r\n      </ActiveUserContext.Provider>\r\n    </div>\r\n  );\r\n};\r\n","import {\r\n  Paper,\r\n  Grid,\r\n  TextField,\r\n  Button,\r\n  Typography,\r\n  Link,\r\n} from '@mui/material';\r\nimport React, { useContext } from 'react';\r\n\r\nimport { Form, Formik } from 'formik';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport * as Yup from 'yup';\r\nimport ActiveUserContext from '../../../Contexts/ActiveUserContext';\r\nimport { AxiosError } from 'axios';\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  email: Yup.string(),\r\n  password: Yup.string(),\r\n});\r\n\r\nconst Login = () => {\r\n  const paperStyle = {\r\n    padding: 20,\r\n    height: '70vh',\r\n    width: 280,\r\n    margin: '20px auto',\r\n  };\r\n  const btnstyle = { margin: '8px 0' };\r\n  const navigate = useNavigate();\r\n  const { login } = useContext(ActiveUserContext);\r\n\r\n  const handleSubmit = (values: { email: string; password: string }) => {\r\n    login(values.email.toLowerCase(), values.password)\r\n      .then(() => {\r\n        console.log(values);\r\n\r\n        navigate('/');\r\n      })\r\n      .catch((error : AxiosError) => {\r\n        if (\r\n          ( typeof error.response !== 'undefined' &&\r\n            ((error.response.status === 401) ||\r\n          error.response.status === 403\r\n        ))) {\r\n          alert('invalid login');\r\n        } else {\r\n          alert('login Error');\r\n        }\r\n      });\r\n  };\r\n  return (\r\n    <Grid>\r\n      <Paper elevation={10} style={paperStyle}>\r\n        <Grid>\r\n          <h2>Sign In</h2>\r\n          <p>Default login:</p>\r\n          <p>email: admin@example.com</p>\r\n          <p>pw: 1234</p>\r\n        </Grid>\r\n\r\n        <Formik\r\n          initialValues={{\r\n            email: '',\r\n            password: '',\r\n          }}\r\n          enableReinitialize\r\n          validationSchema={validationSchema}\r\n          onSubmit={handleSubmit}\r\n          validateOnChange\r\n          isInitialValid\r\n        >\r\n          {(props: any) => (\r\n            <Form onSubmit={props.handleSubmit}>\r\n              <TextField\r\n                label='email'\r\n                id='email'\r\n                placeholder='Enter username'\r\n                fullWidth\r\n                required\r\n                autoFocus\r\n                onChange={props.handleChange}\r\n                onBlur={props.handleBlur}\r\n                value={props.values.email}\r\n              />\r\n              {props.errors.email && (\r\n                <div id='feedback'>{props.errors.email}</div>\r\n              )}\r\n\r\n              <TextField\r\n                id='password'\r\n                label='password'\r\n                placeholder='Enter password'\r\n                type='password'\r\n                fullWidth\r\n                required\r\n                onChange={props.handleChange}\r\n                onBlur={props.handleBlur}\r\n                value={props.values.password}\r\n              />\r\n              {props.errors.password && (\r\n                <div id='feedback'>{props.errors.password}</div>\r\n              )}\r\n\r\n              <Button\r\n                type='submit'\r\n                color='primary'\r\n                variant='contained'\r\n                style={btnstyle}\r\n                fullWidth\r\n              >\r\n                Sign in\r\n              </Button>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n        <Typography>\r\n          <Link href='#'>Forgot password ?</Link>\r\n        </Typography>\r\n        <Typography>\r\n          {' '}\r\n          Do you have an account ?<Link href='#'>Sign Up</Link>\r\n        </Typography>\r\n      </Paper>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useContext } from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport * as jwt from 'jsonwebtoken';\r\nimport ActiveUserContext from '../Contexts/ActiveUserContext';\r\nimport AuthorityService from '../Services/AuthorityService';\r\nimport { Button } from '@mui/material';\r\nimport authorities from '../config/Authorities';\r\n\r\ninterface Props {\r\n  element: React.ReactElement;\r\n  requiredAuths: authorities[];\r\n}\r\n\r\ntype JWTType = {\r\n  iss: string;\r\n  exp: number;\r\n};\r\n\r\nconst PrivateRoute: React.FC<Props> = ({\r\n  requiredAuths: requiredAuths,\r\n  element: RouteComponent,\r\n}) => {\r\n  const activeUserContext = useContext(ActiveUserContext);\r\n  /**\r\n   * isLoggedIn checks if the token, which is saved inside the localStorage,\r\n   * exists, isn't expired yet and has been issued by the correct issuer.\r\n   * If all of the above is true the user is seen as logged in.\r\n   */\r\n  const isLoggedIn = () => {\r\n    let tokenString = localStorage.getItem('token');\r\n    if (!tokenString) {\r\n      console.error('no token found');\r\n      return false;\r\n    }\r\n    tokenString = tokenString.replace('Bearer ', '');\r\n    const token: JWTType = jwt.decode(tokenString) as JWTType;\r\n    // Check if token does not exist or doesn't have an expiration claim or is expired.\r\n    if (!token || !token.exp || token.exp < Date.now() / 1000) {\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n  /**\r\n   * If the user is not logged in call activeUserContext.logout, which destroys\r\n   * all locally saved user data and redirects to /login.\r\n   */\r\n  if (!isLoggedIn()) {\r\n    activeUserContext.logout();\r\n    return <Navigate to='/login' replace={true} />;\r\n  }\r\n  /**\r\n   * Check if the active user has at least 1 of the needed authorities.\r\n   * If no authorities are needed true is returned.\r\n   */\r\n  let hasNeededAuthorities =\r\n    requiredAuths.length === 0 ||\r\n    requiredAuths.some(AuthorityService.hasAuthority);\r\n\r\n  /**\r\n   * If the user doesn't possess the needed authorities Redirect the user to\r\n   * /unauthorized\r\n   */\r\n  if (!hasNeededAuthorities) {\r\n    return <Navigate to='/unauthorized' replace={true} />;\r\n  }\r\n\r\n  // All checks passed\r\n  return (\r\n    //Pagelayout puts the Navigation, Menu etc. around the component\r\n    <div>\r\n      <Button onClick={activeUserContext.logout}>Logout</Button>\r\n      {RouteComponent}\r\n    </div>\r\n  );\r\n};\r\nexport default PrivateRoute;\r\n","export default \"data:image/png;base64,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\"","import { AxiosInstance } from \"axios\";\r\nimport defaultAxiosInstance from \"../config/Api\";\r\nimport api from '../config/Api';\r\nimport { Group } from \"../types/models/Group\";\r\n\r\n\r\nconst GroupsService = ({\r\n    getGroup: async (userId: string) => {\r\n        return await api.get<Group>(`/group/${userId}`);\r\n    },\r\n\r\n    getAllGroups: () => {\r\n        return api.get(\"/group\")\r\n    },\r\n\r\n    createGroup: (group: Group) => {\r\n        return api.post(\"/group\", group).then((res: any) => {\r\n            return res.data;\r\n        })\r\n    },\r\n\r\n    updateGroup: (group: Group) => {\r\n        return api.put(`/group/${group.id}`, group);\r\n    },\r\n\r\n    deleteGroup: (id: string) => {\r\n        return api.delete(`/group/${id}`);\r\n    }\r\n})\r\n\r\nexport default GroupsService;","import { useEffect, useState } from \"react\";\r\nimport UserService from \"../../Services/UserService\";\r\nimport { User } from \"../../types/models/User.model\";\r\n\r\n// Define the properties expected by the GroupUserList component\r\ninterface Props {\r\n    groupId: string | undefined; // The unique identifier for the group\r\n  }\r\n  \r\n  // Functional component for displaying a list of users in a group\r\n  const GroupUserList: React.FC<Props> = ({ groupId }) => {\r\n    \r\n    // State to store the list of users\r\n    const [users, setUsers] = useState<User[]>([]);\r\n  \r\n    // Effect hook to fetch users from the group when the groupId changes\r\n    useEffect(() => {\r\n      // Fetch users from the group using the UserService\r\n      UserService.getUserFromGroup(groupId)\r\n        .then((data) => {\r\n          setUsers(data.data);\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error fetching users:', error);\r\n        });\r\n    }, [groupId]);\r\n  \r\n    // Render the component\r\n    return (\r\n      <div>\r\n        {/* Map through the list of users and display their emails */}\r\n        {users.map((user) => (\r\n          <div key={user.id}>\r\n            <p>{user.email}</p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  export default GroupUserList;","import { Box } from '@mui/system';\r\nimport logo from \"../../images/team-placeholder.png\";\r\nimport { Accordion, AccordionDetails, AccordionSummary, Button } from '@mui/material';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useState, useEffect, useContext } from 'react';\r\nimport { Group } from '../../types/models/Group';\r\nimport GroupsService from '../../Services/GroupsService';\r\nimport \"../../HomePage.css\";\r\nimport authorities from '../../config/Authorities';\r\nimport AuthorityService from '../../Services/AuthorityService';\r\nimport GroupUserList from '../atoms/GroupUserList';\r\nimport ActiveUserContext, { ActiveUserContextType } from '../../Contexts/ActiveUserContext';\r\n\r\nexport default function HomePage() {\r\n\r\n  // State to store the list of groups\r\n  const [groupsList, setGroupsList] = useState<Group[]>([]);\r\n  const [groupOfUser, setGroupOfUser] = useState<Group>();\r\n  const navigate = useNavigate();\r\n  const {user} = useContext(ActiveUserContext)\r\n\r\n  // Fetch all groups when the component mounts\r\n  useEffect(() => {\r\n    GroupsService.getAllGroups().then((data: any) => {\r\n      setGroupsList(data.data);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    GroupsService.getGroup(user!.group_id).then((data : any) => {\r\n      setGroupOfUser(data.data);\r\n    });\r\n  }, [user]);\r\n\r\n  if ([authorities.USER_MODIFY].some(AuthorityService.hasAuthority)) {\r\n    return (\r\n      // Render the admin view\r\n      <Box\r\n        display='flex'\r\n        alignItems='center'\r\n        justifyContent='center'\r\n        flexDirection={'column'}\r\n      >\r\n        <h1>ADMIN</h1>\r\n        {/* Action buttons for the admin */}\r\n        <div className='action_buttons'>\r\n          <div className='see_all_users_button'>\r\n            <Button\r\n              onClick={() => navigate(\"/users\")}\r\n              size=\"small\"\r\n              variant=\"contained\"\r\n            >\r\n              See All Users\r\n            </Button>\r\n          </div>\r\n          <div className='group_add_button'>\r\n            <Button\r\n              onClick={() => navigate(\"/groupedit\")}\r\n              size='small'\r\n              variant='contained'\r\n            >\r\n              Add Group\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        <h1>Groups</h1>\r\n        {/* Render each group in the admin view */}\r\n        <div>\r\n          {groupsList.map((group) => (\r\n            <div className='group_container' key={group.id}>\r\n              <img src={logo} alt=\"\" />\r\n              <div className='group_description'>\r\n                <h1 className='group_name'>{group.name}</h1>\r\n                <h4 className='group_motto'>{group.description}</h4>\r\n                {/* Accordion to show users in the group */}\r\n                <Accordion className='dropdown'>\r\n                  <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1-content\"\r\n                    id=\"panel1-header\"\r\n                  >\r\n                    Users: {group.memberCount}\r\n                  </AccordionSummary>\r\n                  <AccordionDetails>\r\n                    {/* Render the list of users in the group */}\r\n                    <GroupUserList groupId={group.id}></GroupUserList>\r\n                  </AccordionDetails>\r\n                </Accordion>\r\n                {/* Buttons for editing and deleting the group */}\r\n                <Button\r\n                  onClick={() => navigate(\"/groupedit/\" + group.id)}\r\n                >\r\n                  Edit Group\r\n                </Button>\r\n                <Button\r\n                  onClick={() => GroupsService.deleteGroup(group.id)}\r\n                >\r\n                  Delete Group\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  // Render the user view if the user doesn't have admin authorities\r\n  return (\r\n    <Box\r\n      display='flex'\r\n      alignItems='center'\r\n      justifyContent='center'\r\n      flexDirection={'column'}\r\n    >\r\n      <h1>Groups</h1>\r\n      {/* Render each group in the user view */}\r\n      <div>\r\n        <div className='group_container'>\r\n          <img src={logo} alt=\"\" />\r\n          <div className='group_description'>\r\n            <h1 className='group_name'>{groupOfUser?.name}</h1>\r\n            <h4 className='group_motto'>{groupOfUser?.description}</h4>\r\n            <Accordion className='dropdown'>\r\n              <AccordionSummary\r\n                expandIcon={<ExpandMoreIcon />}\r\n                aria-controls=\"panel1-content\"\r\n                id=\"panel1-header\"\r\n              >\r\n                Users: {groupOfUser?.memberCount}\r\n              </AccordionSummary>\r\n              <AccordionDetails>\r\n                <GroupUserList groupId={groupOfUser?.id}></GroupUserList>\r\n              </AccordionDetails>\r\n            </Accordion>\r\n          </div>\r\n        </div>\r\n      \r\n      </div>\r\n    </Box>\r\n  );\r\n}\r\n\r\n","import Button from '@mui/material/Button';\r\nimport { useEffect, useState } from 'react';\r\nimport { User } from '../../../types/models/User.model';\r\nimport UserService from '../../../Services/UserService';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n  ButtonGroup,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n} from \"@mui/material\";\r\n\r\n\r\nconst UserTable = () => {\r\n  const navigate = useNavigate();\r\n  const [users, setUsers] = useState<User[]>([]);\r\n\r\n  useEffect(() => {\r\n    UserService.getAllUsers().then((data: any) => {\r\n      setUsers(data.data);\r\n    });\r\n  }, []);\r\n\r\n  const handleAddUser = () => {\r\n    navigate('../useredit/');\r\n  };\r\n\r\n  const handleEditUser = (id: string) => {\r\n    navigate('../useredit/' + id);\r\n  };\r\n\r\n  const handleDeleteUser = (id: string) => {\r\n    UserService.deleteUser(id);\r\n  };\r\n\r\n  return (\r\n    <>\r\n       <TableContainer component={Paper}>\r\n        <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Firstname</TableCell>\r\n              <TableCell>Lastname</TableCell>\r\n              <TableCell>Email</TableCell>\r\n              <TableCell>Modify</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {users.map((user) => (\r\n              <TableRow key={user.id}>\r\n                <TableCell>\r\n                  {user.firstName}\r\n                </TableCell>\r\n                <TableCell>\r\n                  {user.lastName}\r\n                </TableCell>\r\n                <TableCell>\r\n                  {user.email}\r\n                </TableCell>\r\n                <TableCell>\r\n                  <Button\r\n                    size=\"small\"\r\n                    variant=\"contained\"\r\n                    onClick={() => handleEditUser(user.id)}\r\n                  >\r\n                    Edit\r\n                  </Button>\r\n                  <Button\r\n                    size=\"small\"\r\n                    color=\"error\"\r\n                    variant=\"contained\"\r\n                    onClick={() => handleDeleteUser(user.id)}\r\n                  >\r\n                    Delete\r\n                  </Button>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n        <ButtonGroup variant=\"text\">\r\n          <Button onClick={handleAddUser}>\r\n            Add User\r\n          </Button>\r\n          <Button onClick={() => navigate(\"/\")}>\r\n            Home\r\n          </Button>\r\n        </ButtonGroup>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserTable;\r\n","import { useFormik } from 'formik';\r\nimport { User } from '../../../types/models/User.model';\r\nimport { Box, Button, TextField } from '@mui/material';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { object, string } from 'yup';\r\n\r\ninterface UserProps {\r\n  user: User;\r\n  submitActionHandler: (values: User) => void;\r\n}\r\n\r\nconst UserForm = ({ user, submitActionHandler }: UserProps) => {\r\n  const navigate = useNavigate();\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      id: user.id,\r\n      lastName: user ? user.lastName : '',\r\n      firstName: user ? user.firstName : '',\r\n      email: user ? user.email : '',\r\n      group_id: user ? user.group_id : '',\r\n      roles: user ? user.roles : [],\r\n    },\r\n    validationSchema: object({\r\n      firstName: string().required().min(2).max(50),\r\n      lastName: string().required().min(2).max(50),\r\n      email: string().required().email(),\r\n    }),\r\n    onSubmit: (values: User) => {\r\n      submitActionHandler(values);\r\n    },\r\n    enableReinitialize: true,\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={formik.handleSubmit}>\r\n        <Box sx={{ paddingTop: '15px' }}>\r\n          <TextField\r\n            id='firstName'\r\n            label='Firstname'\r\n            variant='outlined'\r\n            sx={{ paddingRight: '10px' }}\r\n            onBlur={formik.handleBlur}\r\n            onChange={formik.handleChange}\r\n            error={Boolean(formik.touched.firstName && formik.errors.firstName)}\r\n            value={formik.values.firstName}\r\n          />\r\n          {formik.errors.firstName && formik.touched.firstName ? (\r\n            <div style={{ color: 'red' }}>{formik.errors.firstName}</div>\r\n          ) : null}\r\n          <TextField\r\n            id='lastName'\r\n            label='Lastname'\r\n            variant='outlined'\r\n            sx={{ paddingRight: '10px' }}\r\n            onBlur={formik.handleBlur}\r\n            onChange={formik.handleChange}\r\n            error={Boolean(formik.touched.lastName && formik.errors.lastName)}\r\n            value={formik.values.lastName}\r\n          />\r\n          {formik.errors.lastName && formik.touched.lastName ? (\r\n            <div style={{ color: 'red' }}>{formik.errors.lastName}</div>\r\n          ) : null}\r\n          <TextField\r\n            id='email'\r\n            label='E-Mail'\r\n            variant='outlined'\r\n            onBlur={formik.handleBlur}\r\n            onChange={formik.handleChange}\r\n            error={Boolean(formik.touched.email && formik.errors.email)}\r\n            value={formik.values.email}\r\n          />\r\n\r\n          {formik.errors.email && formik.touched.email ? (\r\n            <div style={{ color: 'red' }}>{formik.errors.email}</div>\r\n          ) : null}\r\n        </Box>\r\n        <div>\r\n          <Button\r\n            sx={{ marginTop: '15px', marginRight: '10px' }}\r\n            variant='contained'\r\n            color='success'\r\n            type='submit'\r\n            disabled={!(formik.dirty && formik.isValid)}\r\n          >\r\n            {user.id && 'Save'}\r\n            {!user.id && 'Add'}\r\n          </Button>\r\n          <Button\r\n            sx={{ marginTop: '15px' }}\r\n            variant='contained'\r\n            color='error'\r\n            onClick={() => {\r\n              navigate('/users');\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserForm;\r\n","import { useNavigate, useParams } from 'react-router-dom';\r\nimport { User } from '../../../types/models/User.model';\r\nimport UserService from '../../../Services/UserService';\r\nimport UserForm from '../../molecules/UserForm/UserForm';\r\nimport { useEffect, useState } from 'react';\r\n\r\nconst UserPage = () => {\r\n  const navigate = useNavigate();\r\n  const { userId } = useParams();\r\n  const [user, setUser] = useState<User>({\r\n    id: '',\r\n    firstName: '',\r\n    lastName: '',\r\n    email: '',\r\n    group_id: '',\r\n    roles: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (userId) {\r\n        UserService.getUser(userId).then((res) => {\r\n          return setUser(res);\r\n        });\r\n      }\r\n    };\r\n  }, [userId]);\r\n\r\n  const submitActionHandler = (values: User) => {\r\n    if (userId !== undefined) {\r\n      UserService.updateUser(values).then(() => {\r\n        navigate('/users');\r\n      });\r\n    } else {\r\n      UserService.addUser(values).then(() => {\r\n        navigate('/users');\r\n      });\r\n    }\r\n  };\r\n\r\n  return <UserForm user={user} submitActionHandler={submitActionHandler} />;\r\n};\r\nexport default UserPage;\r\n","import { useFormik } from 'formik';\r\nimport { Group } from '../../types/models/Group';\r\nimport { Autocomplete, Box, Button, TextField } from '@mui/material';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { object, string } from 'yup';\r\nimport { useEffect, useState } from 'react';\r\nimport { User } from '../../types/models/User.model';\r\nimport UserService from '../../Services/UserService';\r\n\r\n// Interface defining the props for GroupForm\r\ninterface GroupProps {\r\n  group: Group;\r\n  submitActionHandler: (values: Group) => void;\r\n}\r\n\r\n// GroupForm component for rendering and handling group form\r\nconst GroupForm = ({ group, submitActionHandler }: GroupProps) => {\r\n  // Hook for navigation\r\n  const navigate = useNavigate();\r\n\r\n  // State to store the list of users\r\n  const [users, setUsers] = useState<User[]>([]);\r\n\r\n  // Fetch all users when the component mounts\r\n  useEffect(() => {\r\n    UserService.getAllUsers().then((data: any) => {\r\n      setUsers(data.data);\r\n    });\r\n  }, []);\r\n\r\n  // Formik hook for handling form state and validation\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      id: group.id,\r\n      name: group ? group.name : '',\r\n      logoUrl: group ? group.logoUrl : '',\r\n      description: group ? group.description : '',\r\n      memberCount: group ? group.memberCount : 0,\r\n      users: group ? group.users : [],\r\n    },\r\n    validationSchema: object({\r\n      name: string().required().min(2).max(50),\r\n      description: string().required().min(2).max(50),\r\n      // Add more validation rules as needed\r\n    }),\r\n    onSubmit: (values: Group) => {\r\n      // Handle form submission\r\n      submitActionHandler(values);\r\n    },\r\n    enableReinitialize: true,\r\n  });\r\n\r\n  // Handle Autocomplete change for selecting users\r\n  const handleAutocompleteChange = (event: any, value: any) => {\r\n    formik.setFieldValue('users', value);\r\n  };\r\n\r\n  // Render the form with input fields and buttons\r\n  return (\r\n    <>\r\n      <form onSubmit={formik.handleSubmit}>\r\n        <Box sx={{ paddingTop: '15px' }}>\r\n          <TextField\r\n            id='name'\r\n            label='Name'\r\n            variant='outlined'\r\n            sx={{ paddingRight: '10px' }}\r\n            onBlur={formik.handleBlur}\r\n            onChange={formik.handleChange}\r\n            error={Boolean(formik.touched.name && formik.errors.name)}\r\n            value={formik.values.name}\r\n          />\r\n          <TextField\r\n            id='description'\r\n            label='Description'\r\n            variant='outlined'\r\n            sx={{ paddingRight: '10px' }}\r\n            onBlur={formik.handleBlur}\r\n            onChange={formik.handleChange}\r\n            error={Boolean(formik.touched.description && formik.errors.description)}\r\n            value={formik.values.description}\r\n          />\r\n          <Autocomplete\r\n            multiple\r\n            id=\"tags-standard\"\r\n            options={users}\r\n            getOptionLabel={(option) => option.email}\r\n            onChange={(event, value) => handleAutocompleteChange(event, value)}\r\n            value={formik.values.users}\r\n            renderInput={(params) => (\r\n              <TextField\r\n                {...params}\r\n                variant=\"standard\"\r\n                label=\"Users\"\r\n              />\r\n            )}\r\n          />\r\n        </Box>\r\n        <div>\r\n          <Button\r\n            sx={{ marginTop: '15px', marginRight: '10px' }}\r\n            variant='contained'\r\n            color='success'\r\n            type='submit'\r\n          >\r\n            {group.id && 'Save'}\r\n            {!group.id && 'Add'}\r\n          </Button>\r\n          <Button\r\n            sx={{ marginTop: '15px' }}\r\n            variant='contained'\r\n            color='error'\r\n            onClick={() => {\r\n              navigate('/');\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default GroupForm;","import { useNavigate, useParams } from 'react-router-dom';\r\nimport { Group } from '../../types/models/Group';\r\nimport { useEffect, useState } from 'react';\r\nimport GroupsService from '../../Services/GroupsService';\r\nimport GroupForm from \"../molecules/GroupForm\";\r\n\r\n// GroupPage component to manage individual groups\r\nconst GroupPage = () => {\r\n  // Hook for navigation\r\n  const navigate = useNavigate();\r\n  \r\n  // Retrieve groupId from the route parameters\r\n  const { groupId } = useParams();\r\n\r\n  // State to store the details of the group\r\n  const [group, setGroup] = useState<Group>({\r\n    id: \"\",\r\n    name: \"\",\r\n    description: \"\",\r\n    logoUrl: \"\",\r\n    memberCount: 0,\r\n    users: [],\r\n  });\r\n\r\n  // Fetch group details when the component mounts\r\n  useEffect(() => {\r\n    return () => {\r\n      // Check if groupId exists before fetching group details\r\n      if (groupId) {\r\n        GroupsService.getGroup(groupId).then((res) => {\r\n          return setGroup(res.data);\r\n        });\r\n      }\r\n    };\r\n  }, [groupId]);\r\n\r\n  // Handle form submission for creating/updating a group\r\n  const submitActionHandler = (values: Group) => {\r\n    if (groupId !== undefined) {\r\n      // Update existing group\r\n      GroupsService.updateGroup(values).then(() => {\r\n        navigate('/');\r\n      });\r\n    } else {\r\n      // Create a new group\r\n      GroupsService.createGroup(values).then(() => {\r\n        navigate('/');\r\n      });\r\n    }\r\n  };\r\n\r\n  // Render the GroupForm component with the group details and submit handler\r\n  return <GroupForm group={group} submitActionHandler={submitActionHandler} />;\r\n}\r\n\r\nexport default GroupPage;","import { Route, Routes } from 'react-router-dom';\r\nimport LoginPage from '../components/pages/LoginPage/LoginPage';\r\nimport PrivateRoute from './PrivateRoute';\r\nimport HomePage from '../components/pages/HomePage';\r\nimport UserTable from '../components/pages/UserPage/UserTable';\r\nimport UserPage from '../components/pages/UserPage/UserPage';\r\nimport authorities from '../config/Authorities';\r\nimport GroupPage from \"../components/pages/GroupPage\";\r\n\r\n/**\r\n * Router component renders a route switch with all available pages\r\n */\r\n\r\nconst Router = () => {\r\n  //const { checkRole } = useContext(ActiveUserContext);\r\n\r\n  /** navigate to different \"home\"-locations depending on Role the user have */\r\n\r\n  return (\r\n    <Routes>\r\n      <Route path={'/'} \r\n      element={<PrivateRoute requiredAuths={[]} element={<HomePage />} />}\r\n      />\r\n      <Route path={'/login'} element={<LoginPage />} />\r\n\r\n      <Route\r\n        path={'/users'}\r\n        element={<PrivateRoute requiredAuths={[authorities.USER_MODIFY]} element={<UserTable />} />}\r\n      />\r\n      <Route\r\n        path='/useredit'\r\n        element={\r\n          <PrivateRoute\r\n            requiredAuths={[authorities.USER_MODIFY]}\r\n            element={<UserPage />}\r\n          ></PrivateRoute>\r\n        }\r\n      />\r\n      <Route\r\n        path='/useredit/:userId'\r\n        element={\r\n          <PrivateRoute\r\n            requiredAuths={[authorities.DEFAULT]}\r\n            element={<UserPage />}\r\n          ></PrivateRoute>\r\n        }\r\n      />\r\n      <Route\r\n        path='/groupedit'\r\n        element={\r\n          <PrivateRoute\r\n            requiredAuths={[authorities.USER_MODIFY]}\r\n            element={<GroupPage />}\r\n          ></PrivateRoute>\r\n        }\r\n      />\r\n      <Route\r\n        path='/groupedit/:groupId'\r\n        element={\r\n          <PrivateRoute\r\n            requiredAuths={[authorities.USER_MODIFY]}\r\n            element={<GroupPage />}\r\n          ></PrivateRoute>\r\n        }\r\n      />\r\n      <Route path='*' element={<div>Not Found</div>} />\r\n    </Routes>\r\n  );\r\n};\r\n\r\nexport default Router;\r\n","import React from 'react';\r\n\r\nimport './App.css';\r\n\r\nimport { ActiveUserContextProvider } from './Contexts/ActiveUserContext';\r\nimport Router from './Router/Router';\r\n\r\nfunction App() {\r\n  return (\r\n    <ActiveUserContextProvider>\r\n      <Router />\r\n    </ActiveUserContextProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nconst root = ReactDOM.createRoot(\r\n  document.getElementById('root') as HTMLElement\r\n);\r\nroot.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>\r\n);\r\n"],"sourceRoot":""}