(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{350:function(e,t,n){},351:function(e,t,n){},505:function(e,t){},507:function(e,t){},518:function(e,t){},520:function(e,t){},548:function(e,t){},549:function(e,t){},554:function(e,t){},556:function(e,t){},563:function(e,t){},582:function(e,t){},612:function(e,t,n){},614:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(324),i=n.n(c),s=(n(350),n(351),n(14)),o=n(22),u=n(10),l=n(12),d=n(325),j=n.n(d).a.create({baseURL:"http://henri.uek.dev.noseryoung.ch/api"});j.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers.Authorization=t),e}),(function(e){return Promise.reject(e)})),j.interceptors.request.use((function(e){return e}),Promise.reject),j.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var b,h,O=j,p=n(37),m=new Set,f={initAuthoritySet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:JSON.parse(localStorage.getItem("user")||"{}");(e&&e.roles?e.roles:[]).forEach((function(e){e.authorities.forEach((function(e){m.add(e.name)}))}))},hasAuthority:function(e){return f.initAuthoritySet(),m.has(e)},hasAuthorities:function(e){f.initAuthoritySet();var t,n=Object(p.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!m.has(r))return!1}}catch(a){n.e(a)}finally{n.f()}return!0},hasAnyAuthority:function(e){var t,n=Object(p.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(m.has(r))return!0}}catch(a){n.e(a)}finally{n.f()}return!1},clearAuthorities:function(){m.clear()}},x=f,g={getUser:function(){var e=Object(o.a)(Object(s.a)().mark((function e(t){var n,r;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/user/".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getUserFromGroup:function(){var e=Object(o.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O.get("/user/group/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateUser:function(e){return O.put("/user/".concat(e.id),e)},addUser:function(e){return O.post("/user/registerUser",e).then((function(e){return e.data}))},getAllUsers:function(){return O.get("/user")},deleteUser:function(e){return O.delete("/user/".concat(e))}},v=g,A=n(1),S="user",E="token",R=function(){throw new Error("No provider for the ActiveUserContext found")},w={user:null,login:R,logout:R,setActiveUser:R,loadActiveUser:R,checkRole:R},k=Object(r.createContext)(w),C=k,N=function(e){var t=e.children,n=Object(r.useState)((function(){return function(){var e=localStorage.getItem(S);return null===e?null:JSON.parse(e)}()})),a=Object(u.a)(n,2),c=a[0],i=a[1],d=Object(l.p)(),j=function(e){i(e),localStorage.setItem(S,JSON.stringify(e))},b=function(){x.clearAuthorities(),localStorage.clear(),i(null)},h=function(){var e=Object(o.a)(Object(s.a)().mark((function e(t,n){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.post("user/login",{email:t,password:n}).then((function(e){return console.log(e.headers.authorization),localStorage.setItem(E,e.headers.authorization),j(e.data),!0}));case 2:return e.abrupt("return",!1);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){return c?v.getUser(c.id).then((function(e){j(e)})):null};return Object(r.useEffect)((function(){null!==localStorage.getItem(E)&&p()}),[]),Object(r.useEffect)((function(){null!==c&&(x.initAuthoritySet(c),localStorage.setItem(S,JSON.stringify(c)))}),[c]),Object(A.jsx)("div",{children:Object(A.jsx)(k.Provider,{value:{user:c,setActiveUser:j,login:h,logout:function(){null!==localStorage.getItem(E)?(O.get("/logout").finally(b),d("/login")):b()},loadActiveUser:p,checkRole:function(e){return!!c&&c.roles.some((function(t){return t.name===e}))}},children:t})})},y=n(670),U=n(671),z=n(666),I=n(674),D=n(675),M=n(672),G=n(77),F=n(36),Y=F.object().shape({email:F.string(),password:F.string()}),B=function(){var e={margin:"8px 0"},t=Object(l.p)(),n=Object(r.useContext)(C).login;return Object(A.jsx)(y.a,{children:Object(A.jsxs)(U.a,{elevation:10,style:{padding:20,height:"70vh",width:280,margin:"20px auto"},children:[Object(A.jsxs)(y.a,{children:[Object(A.jsx)("h2",{children:"Sign In"}),Object(A.jsx)("p",{children:"Default login:"}),Object(A.jsx)("p",{children:"email: admin@example.com"}),Object(A.jsx)("p",{children:"pw: 1234"})]}),Object(A.jsx)(G.b,{initialValues:{email:"",password:""},enableReinitialize:!0,validationSchema:Y,onSubmit:function(e){n(e.email.toLowerCase(),e.password).then((function(){console.log(e),t("/")})).catch((function(e){"undefined"===typeof e.response||401!==e.response.status&&403!==e.response.status?alert("login Error"):alert("invalid login")}))},validateOnChange:!0,isInitialValid:!0,children:function(t){return Object(A.jsxs)(G.a,{onSubmit:t.handleSubmit,children:[Object(A.jsx)(z.a,{label:"email",id:"email",placeholder:"Enter username",fullWidth:!0,required:!0,autoFocus:!0,onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.email}),t.errors.email&&Object(A.jsx)("div",{id:"feedback",children:t.errors.email}),Object(A.jsx)(z.a,{id:"password",label:"password",placeholder:"Enter password",type:"password",fullWidth:!0,required:!0,onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.password}),t.errors.password&&Object(A.jsx)("div",{id:"feedback",children:t.errors.password}),Object(A.jsx)(I.a,{type:"submit",color:"primary",variant:"contained",style:e,fullWidth:!0,children:"Sign in"})]})}}),Object(A.jsx)(D.a,{children:Object(A.jsx)(M.a,{href:"#",children:"Forgot password ?"})}),Object(A.jsxs)(D.a,{children:[" ","Do you have an account ?",Object(A.jsx)(M.a,{href:"#",children:"Sign Up"})]})]})})},T=n(330),H=function(e){var t=e.requiredAuths,n=e.element,a=Object(r.useContext)(C);return function(){var e=localStorage.getItem("token");if(!e)return console.error("no token found"),!1;e=e.replace("Bearer ","");var t=T.decode(e);return!(!t||!t.exp||t.exp<Date.now()/1e3)}()?0===t.length||t.some(x.hasAuthority)?Object(A.jsxs)("div",{children:[Object(A.jsx)(I.a,{onClick:a.logout,children:"Logout"}),n]}):Object(A.jsx)(l.a,{to:"/unauthorized",replace:!0}):(a.logout(),Object(A.jsx)(l.a,{to:"/login",replace:!0}))},J=n(663),P="data:image/png;base64,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",L=n(669),q=n(676),Z=n(677),Q=n(208),V=n.n(Q),X={getGroup:function(){var e=Object(o.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/group/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllGroups:function(){return O.get("/group")},createGroup:function(e){return O.post("/group",e).then((function(e){return e.data}))},updateGroup:function(e){return O.put("/group/".concat(e.id),e)},deleteGroup:function(e){return O.delete("/group/".concat(e))}},W=X;n(612);(h=b||(b={})).DEFAULT="DEFAULT",h.USER_MODIFY="USER_MODIFY",h.USER_DELETE="USER_DELETE",h.USER_READ_GROUPS="USER_READ_GROUPS",h.READ_OWN_GROUP="READ_OWN_GROUP",h.GROUP_CREATE="GROUP_CREATE",h.GROUP_MODIFY="GROUP_MODIFY",h.GROUP_DELETE="GROUP_DELETE";var _=b,K=function(e){var t=e.groupId,n=Object(r.useState)([]),a=Object(u.a)(n,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){v.getUserFromGroup(t).then((function(e){i(e.data)})).catch((function(e){console.error("Error fetching users:",e)}))}),[t]),Object(A.jsx)("div",{children:c.map((function(e){return Object(A.jsx)("div",{children:Object(A.jsx)("p",{children:e.email})},e.id)}))})};function $(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(),i=Object(u.a)(c,2),s=i[0],o=i[1],d=Object(l.p)(),j=Object(r.useContext)(C).user;return Object(r.useEffect)((function(){W.getAllGroups().then((function(e){a(e.data)}))}),[]),Object(r.useEffect)((function(){W.getGroup(j.group_id).then((function(e){o(e.data)}))}),[j]),[_.USER_MODIFY].some(x.hasAuthority)?Object(A.jsxs)(J.a,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",children:[Object(A.jsx)("h1",{children:"ADMIN"}),Object(A.jsxs)("div",{className:"action_buttons",children:[Object(A.jsx)("div",{className:"see_all_users_button",children:Object(A.jsx)(I.a,{onClick:function(){return d("/users")},size:"small",variant:"contained",children:"See All Users"})}),Object(A.jsx)("div",{className:"group_add_button",children:Object(A.jsx)(I.a,{onClick:function(){return d("/groupedit")},size:"small",variant:"contained",children:"Add Group"})})]}),Object(A.jsx)("h1",{children:"Groups"}),Object(A.jsx)("div",{children:n.map((function(e){return Object(A.jsxs)("div",{className:"group_container",children:[Object(A.jsx)("img",{src:P,alt:""}),Object(A.jsxs)("div",{className:"group_description",children:[Object(A.jsx)("h1",{className:"group_name",children:e.name}),Object(A.jsx)("h4",{className:"group_motto",children:e.description}),Object(A.jsxs)(L.a,{className:"dropdown",children:[Object(A.jsxs)(q.a,{expandIcon:Object(A.jsx)(V.a,{}),"aria-controls":"panel1-content",id:"panel1-header",children:["Users: ",e.memberCount]}),Object(A.jsx)(Z.a,{children:Object(A.jsx)(K,{groupId:e.id})})]}),Object(A.jsx)(I.a,{onClick:function(){return d("/groupedit/"+e.id)},children:"Edit Group"}),Object(A.jsx)(I.a,{onClick:function(){return W.deleteGroup(e.id)},children:"Delete Group"})]})]},e.id)}))})]}):Object(A.jsxs)(J.a,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",children:[Object(A.jsx)("h1",{children:"Groups"}),Object(A.jsx)("div",{children:Object(A.jsxs)("div",{className:"group_container",children:[Object(A.jsx)("img",{src:P,alt:""}),Object(A.jsxs)("div",{className:"group_description",children:[Object(A.jsx)("h1",{className:"group_name",children:null===s||void 0===s?void 0:s.name}),Object(A.jsx)("h4",{className:"group_motto",children:null===s||void 0===s?void 0:s.description}),Object(A.jsxs)(L.a,{className:"dropdown",children:[Object(A.jsxs)(q.a,{expandIcon:Object(A.jsx)(V.a,{}),"aria-controls":"panel1-content",id:"panel1-header",children:["Users: ",null===s||void 0===s?void 0:s.memberCount]}),Object(A.jsx)(Z.a,{children:Object(A.jsx)(K,{groupId:null===s||void 0===s?void 0:s.id})})]})]})]})})]})}var ee=n(678),te=n(679),ne=n(680),re=n(681),ae=n(682),ce=n(683),ie=n(684),se=function(){var e=Object(l.p)(),t=Object(r.useState)([]),n=Object(u.a)(t,2),a=n[0],c=n[1];Object(r.useEffect)((function(){v.getAllUsers().then((function(e){c(e.data)}))}),[]);return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(ee.a,{component:U.a,children:Object(A.jsxs)(te.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(A.jsx)(ne.a,{children:Object(A.jsxs)(re.a,{children:[Object(A.jsx)(ae.a,{children:"Firstname"}),Object(A.jsx)(ae.a,{children:"Lastname"}),Object(A.jsx)(ae.a,{children:"Email"}),Object(A.jsx)(ae.a,{children:"Modify"})]})}),Object(A.jsx)(ce.a,{children:a.map((function(t){return Object(A.jsxs)(re.a,{children:[Object(A.jsx)(ae.a,{children:t.firstName}),Object(A.jsx)(ae.a,{children:t.lastName}),Object(A.jsx)(ae.a,{children:t.email}),Object(A.jsxs)(ae.a,{children:[Object(A.jsx)(I.a,{size:"small",variant:"contained",onClick:function(){return n=t.id,void e("../useredit/"+n);var n},children:"Edit"}),Object(A.jsx)(I.a,{size:"small",color:"error",variant:"contained",onClick:function(){return e=t.id,void v.deleteUser(e);var e},children:"Delete"})]})]},t.id)}))})]})}),Object(A.jsxs)(ie.a,{variant:"text",children:[Object(A.jsx)(I.a,{onClick:function(){e("../useredit/")},children:"Add User"}),Object(A.jsx)(I.a,{onClick:function(){return e("/")},children:"Home"})]})]})},oe=n(664),ue=function(e){var t=e.user,n=e.submitActionHandler,r=Object(l.p)(),a=Object(G.c)({initialValues:{id:t.id,lastName:t?t.lastName:"",firstName:t?t.firstName:"",email:t?t.email:"",group_id:t?t.group_id:"",roles:t?t.roles:[]},validationSchema:Object(F.object)({firstName:Object(F.string)().required().min(2).max(50),lastName:Object(F.string)().required().min(2).max(50),email:Object(F.string)().required().email()}),onSubmit:function(e){n(e)},enableReinitialize:!0});return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("form",{onSubmit:a.handleSubmit,children:[Object(A.jsxs)(oe.a,{sx:{paddingTop:"15px"},children:[Object(A.jsx)(z.a,{id:"firstName",label:"Firstname",variant:"outlined",sx:{paddingRight:"10px"},onBlur:a.handleBlur,onChange:a.handleChange,error:Boolean(a.touched.firstName&&a.errors.firstName),value:a.values.firstName}),a.errors.firstName&&a.touched.firstName?Object(A.jsx)("div",{style:{color:"red"},children:a.errors.firstName}):null,Object(A.jsx)(z.a,{id:"lastName",label:"Lastname",variant:"outlined",sx:{paddingRight:"10px"},onBlur:a.handleBlur,onChange:a.handleChange,error:Boolean(a.touched.lastName&&a.errors.lastName),value:a.values.lastName}),a.errors.lastName&&a.touched.lastName?Object(A.jsx)("div",{style:{color:"red"},children:a.errors.lastName}):null,Object(A.jsx)(z.a,{id:"email",label:"E-Mail",variant:"outlined",onBlur:a.handleBlur,onChange:a.handleChange,error:Boolean(a.touched.email&&a.errors.email),value:a.values.email}),a.errors.email&&a.touched.email?Object(A.jsx)("div",{style:{color:"red"},children:a.errors.email}):null]}),Object(A.jsxs)("div",{children:[Object(A.jsxs)(I.a,{sx:{marginTop:"15px",marginRight:"10px"},variant:"contained",color:"success",type:"submit",disabled:!(a.dirty&&a.isValid),children:[t.id&&"Save",!t.id&&"Add"]}),Object(A.jsx)(I.a,{sx:{marginTop:"15px"},variant:"contained",color:"error",onClick:function(){r("/users")},children:"Cancel"})]})]})})},le=function(){var e=Object(l.p)(),t=Object(l.r)().userId,n=Object(r.useState)({id:"",firstName:"",lastName:"",email:"",group_id:"",roles:[]}),a=Object(u.a)(n,2),c=a[0],i=a[1];Object(r.useEffect)((function(){return function(){t&&v.getUser(t).then((function(e){return i(e)}))}}),[t]);return Object(A.jsx)(ue,{user:c,submitActionHandler:function(n){void 0!==t?v.updateUser(n).then((function(){e("/users")})):v.addUser(n).then((function(){e("/users")}))}})},de=n(209),je=n(665),be=function(e){var t=e.group,n=e.submitActionHandler,a=Object(l.p)(),c=Object(r.useState)([]),i=Object(u.a)(c,2),s=i[0],o=i[1];Object(r.useEffect)((function(){v.getAllUsers().then((function(e){o(e.data)}))}),[]);var d=Object(G.c)({initialValues:{id:t.id,name:t?t.name:"",logoUrl:t?t.logoUrl:"",description:t?t.description:"",memberCount:t?t.memberCount:0,users:t?t.users:[]},validationSchema:Object(F.object)({name:Object(F.string)().required().min(2).max(50),description:Object(F.string)().required().min(2).max(50)}),onSubmit:function(e){n(e)},enableReinitialize:!0});return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("form",{onSubmit:d.handleSubmit,children:[Object(A.jsxs)(oe.a,{sx:{paddingTop:"15px"},children:[Object(A.jsx)(z.a,{id:"name",label:"Name",variant:"outlined",sx:{paddingRight:"10px"},onBlur:d.handleBlur,onChange:d.handleChange,error:Boolean(d.touched.name&&d.errors.name),value:d.values.name}),Object(A.jsx)(z.a,{id:"description",label:"Description",variant:"outlined",sx:{paddingRight:"10px"},onBlur:d.handleBlur,onChange:d.handleChange,error:Boolean(d.touched.description&&d.errors.description),value:d.values.description}),Object(A.jsx)(je.a,{multiple:!0,id:"tags-standard",options:s,getOptionLabel:function(e){return e.email},onChange:function(e,t){return function(e,t){d.setFieldValue("users",t)}(0,t)},value:d.values.users,renderInput:function(e){return Object(A.jsx)(z.a,Object(de.a)(Object(de.a)({},e),{},{variant:"standard",label:"Users"}))}})]}),Object(A.jsxs)("div",{children:[Object(A.jsxs)(I.a,{sx:{marginTop:"15px",marginRight:"10px"},variant:"contained",color:"success",type:"submit",children:[t.id&&"Save",!t.id&&"Add"]}),Object(A.jsx)(I.a,{sx:{marginTop:"15px"},variant:"contained",color:"error",onClick:function(){a("/")},children:"Cancel"})]})]})})},he=function(){var e=Object(l.p)(),t=Object(l.r)().groupId,n=Object(r.useState)({id:"",name:"",description:"",logoUrl:"",memberCount:0,users:[]}),a=Object(u.a)(n,2),c=a[0],i=a[1];Object(r.useEffect)((function(){return function(){t&&W.getGroup(t).then((function(e){return i(e.data)}))}}),[t]);return Object(A.jsx)(be,{group:c,submitActionHandler:function(n){void 0!==t?W.updateGroup(n).then((function(){e("/")})):W.createGroup(n).then((function(){e("/")}))}})},Oe=function(){return Object(A.jsxs)(l.d,{children:[Object(A.jsx)(l.b,{path:"/",element:Object(A.jsx)(H,{requiredAuths:[],element:Object(A.jsx)($,{})})}),Object(A.jsx)(l.b,{path:"/login",element:Object(A.jsx)(B,{})}),Object(A.jsx)(l.b,{path:"/users",element:Object(A.jsx)(H,{requiredAuths:[_.USER_MODIFY],element:Object(A.jsx)(se,{})})}),Object(A.jsx)(l.b,{path:"/useredit",element:Object(A.jsx)(H,{requiredAuths:[_.USER_MODIFY],element:Object(A.jsx)(le,{})})}),Object(A.jsx)(l.b,{path:"/useredit/:userId",element:Object(A.jsx)(H,{requiredAuths:[_.DEFAULT],element:Object(A.jsx)(le,{})})}),Object(A.jsx)(l.b,{path:"/groupedit",element:Object(A.jsx)(H,{requiredAuths:[_.USER_MODIFY],element:Object(A.jsx)(he,{})})}),Object(A.jsx)(l.b,{path:"/groupedit/:groupId",element:Object(A.jsx)(H,{requiredAuths:[_.USER_MODIFY],element:Object(A.jsx)(he,{})})}),Object(A.jsx)(l.b,{path:"*",element:Object(A.jsx)("div",{children:"Not Found"})})]})};var pe=function(){return Object(A.jsx)(N,{children:Object(A.jsx)(Oe,{})})},me=n(42);i.a.createRoot(document.getElementById("root")).render(Object(A.jsx)(a.a.StrictMode,{children:Object(A.jsx)(me.a,{children:Object(A.jsx)(pe,{})})}))}},[[614,1,2]]]);
//# sourceMappingURL=main.5660a9d8.chunk.js.map